appId: com.pilot.browser
productName: Pilot Browser
copyright: Copyright Â© 2023 Pilot Browser

afterPack: ./build/afterPack.cjs

directories:
  output: release/${version}
  buildResources: build

files:
  - dist/**/*
  - node_modules/**/*
  - package.json
  - main.js
  - preload.js
  - backend/**/*

asar: true
asarUnpack:
  - "**/node_modules/playwright/**"
  - "**/node_modules/playwright-core/**"

extraResources:
  - from: "backend"
    to: "app/backend"
    filter:
      - "**/*"

win:
  target: nsis
  icon: build/icon.ico
  artifactName: "${productName}-${version}-${os}-${arch}.${ext}"
  publisherName: "Pilot Browser Team"
  # Disable code signing for development builds
  verifyUpdateCodeSignature: false
  # Disable signing for development
  signingHashAlgorithms: []
  fileAssociations:
    - ext: html
      name: HTML File
      role: Viewer
    - ext: htm
      name: HTML File
      role: Viewer

mac:
  target: dmg
  icon: build/icon.icns
  artifactName: "${productName}-${version}-${os}-${arch}.${ext}"
  category: public.app-category.utilities
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: "build/entitlements.mac.plist"
  entitlementsInherit: "build/entitlements.mac.plist"

linux:
  target: ["AppImage", "deb", "rpm"]
  icon: build/icon.png
  category: Network
  maintainer: "Pilot Browser Team"
  vendor: "Pilot Browser"
  synopsis: "AI-Powered Minimalist Browser"
  description: |
    Pilot Browser is a minimalist, AI-powered browser with built-in automation capabilities.
    Features include AI-enhanced search, multi-agent task automation, and a clean interface.

nsis:
  oneClick: false
  perMachine: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: "Pilot Browser"
  uninstallDisplayName: "Pilot Browser"
  include: build/installer.nsh

publish:
  provider: github
  releaseType: release
  publishAutoUpdate: false

generateUpdatesFilesForAllChannels: false
